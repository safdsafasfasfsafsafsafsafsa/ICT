<!DOCTYPE html>
<html>
  <head>
    <title>Event Delegation</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div id="buttons">
      <button class="buttonClass">Click me</button>
      <button class="buttonClass">Click me</button>
    </div>

    <script>
      //   // 1. buttons 쓰면 기존에 있는 버튼에만 이벤트가 추가됨
      //   const buttons = document.getElementsByClassName("buttonClass"); // 버튼 클래스 이름으로 요소를 가져옴
      //   for (const button of buttons) {
      //     button.addEventListener("click", () => alert("clicked"));
      //   } // 여러 개에 하나씩 클릭 이벤트 추가

      // 2. 이벤트 위임: 버블링을 고려해 부모 요소에 이벤트 리스너를 추가
      const buttons = document.getElementById("buttons");
      buttons.addEventListener("click", () => alert("clicked")); // 클릭 실행 시 함수 호출

      let buttonList = document.querySelector("#buttons"); // 버튼 생성 시 부모가 될 요소 저격
      let button = document.createElement("button"); // 새로운 버튼 요소 생성

      button.setAttribute("class", "buttonClass");
      button.innerText = "Click me";
      button.style.backgroundColor = "blue"; // 버튼 배경색 설정
      buttonList.appendChild(button); // 버튼 요소를 부모 요소에 추가
    </script>
  </body>
</html>
